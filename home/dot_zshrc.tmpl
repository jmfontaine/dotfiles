### zsh path (must be first)
path=(
    $(brew --prefix)/opt/coreutils/libexec/gnubin # Use GNU commands instead of macOS ones
    $path
)

# Use VS Code as editor
export EDITOR="code --new-window --wait"

{{ if eq .computerName "Mercure" }}
# ghc
GHC_VERSION=$(ghc --version | grep -oE '[0-9]+\.[0-9]+\.[0-9]+')
path=(
    ~/.ghcup/bin                  # Haskell GHCup-managed commands
    ~/.ghcup/ghc/$GHC_VERSION/bin # Haskell ghc
    $path
)
{{ end }}

# antidote
source $(brew --prefix)/opt/antidote/share/antidote/antidote.zsh
antidote load

# Have zsh-autosuggestions suggest zsh-abbr's abbreviation
ZSH_AUTOSUGGEST_STRATEGY=( abbreviations $ZSH_AUTOSUGGEST_STRATEGY )

# Oh My Posh
eval "$(oh-my-posh init zsh --config ~/.config/oh-my-posh/jmf.omp.yaml)"

# Disable Homebrew hints
export HOMEBREW_NO_ENV_HINTS=1

{{ if eq .computerName "Mercure" }}
# direnv
eval "$(direnv hook zsh)"

# 1Password
op signin --account {{ .onePasswordAccountId }}

## jj
source <(COMPLETE=zsh jj)
{{ end }}